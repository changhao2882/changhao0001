<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			body{
				height: 3000px;
				position: relative;
			}
			#box{
				width: 100px;
				height: 100px;
				background-color: aqua;
				position: absolute;
			}
		</style>
	</head>
	<body>
		<div id="box"></div>
		<script type="text/javascript">
			var jsDiv=document.getElementById("box");
			//点到的点
			var baseX=0;
			var baseY=0;
			//移动的距离
			var moveX=0;
			var moveY=0;
			jsDiv.addEventListener("mousedown",function(e){
				var ev=e || window.event;
				baseX=ev.pageX;
				baseY=ev.pageY;
				
				document.onmousemove=function(e){
					var ee=e || window.event;
					moveX=ee.pageX-baseX;
					baseX=ee.pageX;
					
					moveY=ee.pageY-baseY;
					baseY=ee.pageY;
					
					jsDiv.style.left=jsDiv.offsetLeft+moveX+"px";
					jsDiv.style.top=jsDiv.offsetTop+moveY+"px";
				};
			},false);
			document.addEventListener("mouseup",function(e){
				//清除事件
				document.onmousemove=null;
			},false);
		</script>
	</body>
</html>
